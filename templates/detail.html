{% extends 'base.html' %} {% block title %}
<title>chatroom</title>
{% endblock %} {% block body %}
<div class="main-container">
  <img
    src="{{ url_for('static',filename='img/cat-gif-unscreen.gif') }}"
    id="gif"
  />
  <div class="chat-box">
    <div class="chat-header">
      <p id="chatroom-name">{{ channel.name }}</p>
      {% if channel.abstract is not none %}
      <p id="chatroom-description">{{ channel.abstract }}</p>
      {% endif %}
    </div>
    <div class="message-area">
      {% if messages|length > 0 %}
        {% for message in messages %}
          {% if message.uid == uid %}
            <div><p class="box box-right">{{ message.message }}</p></div>
          {% else %}
            <div><p class="box box-left">{{ message.message }}</p></div>
          {% endif %}
        {% endfor %}
      {% else %}
        <div><p>まだメッセージがありません</p></div>
      {% endif %}
    </div>
    <div class="typing-box-wrapper">
      <form class="typing-box" action="/message" method="POST">
        <textarea name="message" id="message" autofocus></textarea>
        <input type="hidden" name="channel_id" value="{{ channel.id }}" />
        <button type="submit" id="add-message-btn">
          <ion-icon name="paper-plane"></ion-icon>
        </button>
      </form>
    </div>
  </div>
</div>
{% endblock %} {% block script %}
<script
  src="{{url_for('static',filename='js/scroll-message.js')}}"
  type="text/javascript"
></script>
{% endblock %}
